# @package _global_
defaults:
  - _self_

#### Dataset params ###########################################################
dataset:
  name: Temperature
  hparams:
    root: ./PeakWeatherDataset
    target_channels:
      - temperature
    covariate_channels: other
    freq: h
    station_type: meteo_station

  splitting:
    first_val_ts: [2024, 1, 1]
    first_test_ts: [2024, 4, 1]

  connectivity:
    threshold: 0.5 
    theta: null
    include_self: false
    knn: 12 
    layout: edge_index

  # Temporal encodings - important for temperature seasonality
  covariates:
    year: true   # Annual cycle (critical for temperature)
    day: true    # Daily cycle (diurnal variation)
    weekday: false
    mask: true
    u_mask: true
    v: true      # Include static node features

  # Topographic features that affect temperature
  static_attributes:
    - latitude
    - longitude
    - station_height     # Altitude is crucial for temperature
    - dem
    - ASPECT_2000M_SIGRATIO1      # Sun exposure
    - ASPECT_10000M_SIGRATIO1
    - SLOPE_2000M_SIGRATIO1
    - SLOPE_10000M_SIGRATIO1
    - TPI_2000M                   # Topographic Position Index (valley vs ridge)
    - TPI_10000M

#### Windowing params #########################################################
window: 72     # 3 days of hourly data
horizon: 24    # 24-hour forecast
stride: 1

#### Scaling ##################################################################
# Note: Using global scaling instead of per-node to handle nodes with no valid data
scaler:
  method: Standard
  axis: global    # Scale globally across all nodes (some nodes have 0 valid timesteps)
  scale_target: true
